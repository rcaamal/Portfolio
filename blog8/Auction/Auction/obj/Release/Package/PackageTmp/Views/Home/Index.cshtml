@model List<Auction.Models.Bid>

@{
    ViewBag.Title = "Home Page";
}

<h1 class="text-center text-uppercase main-title">Reginald's Ancient Antiquities Auction House</h1>


<div class="row">
    <div class="col-md-6">
        <h2>Bid</h2>
        <p>Find the best items in the world here and bid now!</p>
        <!-- Create button to create a bid -->
        <p><a class="btn btn-default" href="/Bid/Create">Bid on an Item! &raquo;</a></p>
    </div>
</div>
<br />
<hr />
<br />
<!-- Table for displaying the most recent bids -->
<div class="row">
    <div class="col-md-12">
        <table class="table">
            <thead><strong><i>Most Recent Bids</i></strong></thead>
            <tr>
                <td>
                    ID
                </td>
                <td>
                    Item Name
                </td>
                <td>
                    Buyer
                </td>
                <td>
                    Bid Price
                </td>
                <td>
                    Time
                </td>
            </tr>
            @* For each loop for display the recent bids table *@
            @foreach (var bid in Model)
            {
                <tr>
                    <td>
                        @bid.ItemID
                    </td>
                    <td>
                        @bid.Item.Name
                    </td>
                    <td>
                        @bid.Buyer1.Name
                    </td>
                    <td>
                        $@bid.Price
                    </td>
                    <td>
                        @* Format date/time to show only time if today *@
                        @if (bid.TimeStamp.Date == DateTime.Today)
                        {
                            DateTime todayTime = bid.TimeStamp;
                            @todayTime.ToString("h:mm:ss tt")
                        }
                        else
                        {
                            @bid.TimeStamp
                        }
                    </td>
                </tr>
            }
        </table>
    </div>
</div>